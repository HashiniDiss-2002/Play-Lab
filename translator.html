<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Language Translator</title>
</head>
<body>
  <h1>Language Translator</h1>
  
  <label for="text">Text to Translate:</label>
  <textarea id="text" rows="4" cols="50"></textarea><br><br>
  
  <label for="targetLang">Target Language:</label>
  <select id="targetLang">
    <option value="en">English</option>
    <option value="sv">Swedish</option>
    <option value="no">Norwegian</option>
    <option value="fi">Finnish</option>
    <option value="lt">Lithuanian</option>
  </select><br><br>
  
  <button id="translateBtn">Translate</button>
  <h3>Translated Text:</h3>
  <p id="translatedText"></p>

  <script>
    // Using LibreTranslate public API
    const libreTranslateUrl = 'https://libretranslate.de/translate';

    document.getElementById('translateBtn').addEventListener('click', async function () {
      const text = document.getElementById('text').value.trim();
      const targetLang = document.getElementById('targetLang').value;

      if (!text) {
        alert("Please enter text to translate!");
        return;
      }

      try {
        const response = await fetch(libreTranslateUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            q: text,
            source: 'en', // or get dynamically from the input
            target: targetLang,
          })
        });

        const data = await response.json();
        
        if (data.error) {
          alert('Error: ' + data.error.message);
        } else {
          const translatedText = data.translatedText;
          document.getElementById('translatedText').textContent = translatedText;
        }
      } catch (error) {
        alert('Error: ' + error.message);
      }
    });
  </script>
</body>
</html>
